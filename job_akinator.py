import streamlit as st

st.set_page_config(page_title="è·æ¥­ã‚¢ã‚­ãƒãƒ¼ã‚¿ãƒ¼", page_icon="ğŸ§ ")
st.title("ğŸ§  è·æ¥­ã‚¢ã‚­ãƒãƒ¼ã‚¿ãƒ¼")
st.write("10ã®è³ªå•ã«ç­”ãˆã‚‹ã¨ã€ã‚ãªãŸã«å‘ã„ã¦ã„ã‚‹è·æ¥­ãŒã‚ã‹ã‚Šã¾ã™ï¼")

questions = [
    "æ–°ã—ã„æŠ€è¡“ã‚’å­¦ã¶ã®ãŒå¥½ãï¼Ÿ",
    "ç´°ã‹ã„ãƒ‡ã‚¶ã‚¤ãƒ³ã‚„é…è‰²ã«ã“ã ã‚ã‚‹ï¼Ÿ",
    "äººã®å¿ƒç†ã‚’åˆ†æã™ã‚‹ã®ãŒå¾—æ„ï¼Ÿ",
    "ãƒ‡ãƒ¼ã‚¿ã‚’è¦‹ã‚‹ã®ãŒå¥½ãï¼Ÿ",
    "å•é¡Œè§£æ±ºãŒå¾—æ„ï¼Ÿ",
    "ãƒãƒ¼ãƒ ã‚’ã¾ã¨ã‚ã‚‹ã®ãŒå¾—æ„ï¼Ÿ",
    "æ–‡ç« ã‚„ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã‚’æ›¸ãã®ãŒå¥½ãï¼Ÿ",
    "æ•°å­¦ãƒ»è«–ç†çš„æ€è€ƒãŒå¾—æ„ï¼Ÿ",
    "SNSã‚„ãƒˆãƒ¬ãƒ³ãƒ‰ã«æ•æ„Ÿï¼Ÿ",
    "ã„ã‚ã‚“ãªæ¥­ç•Œã«èˆˆå‘³ã‚ã‚‹ï¼Ÿ"
]

score_map = {
    0: {"ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢": 2},
    1: {"ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼": 2},
    2: {"ãƒãƒ¼ã‚±ã‚¿ãƒ¼": 2},
    3: {"ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢": 1, "ã‚³ãƒ³ã‚µãƒ«ã‚¿ãƒ³ãƒˆ": 1},
    4: {"ã‚³ãƒ³ã‚µãƒ«ã‚¿ãƒ³ãƒˆ": 2},
    5: {"ã‚³ãƒ³ã‚µãƒ«ã‚¿ãƒ³ãƒˆ": 2},
    6: {"ãƒãƒ¼ã‚±ã‚¿ãƒ¼": 2},
    7: {"ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢": 2},
    8: {"ãƒãƒ¼ã‚±ã‚¿ãƒ¼": 2},
    9: {"ã‚³ãƒ³ã‚µãƒ«ã‚¿ãƒ³ãƒˆ": 1, "ãƒãƒ¼ã‚±ã‚¿ãƒ¼": 1}
}

scores = {
    "ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢": 0,
    "ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼": 0,
    "ãƒãƒ¼ã‚±ã‚¿ãƒ¼": 0,
    "ã‚³ãƒ³ã‚µãƒ«ã‚¿ãƒ³ãƒˆ": 0
}

with st.form("akinator_form"):
    st.write("ä»¥ä¸‹ã®è³ªå•ã«ç­”ãˆã¦ãã ã•ã„ï¼ˆã¯ã„ or ã„ã„ãˆï¼‰:")
    responses = []
    for i, question in enumerate(questions):
        answer = st.radio(question, ["ã¯ã„", "ã„ã„ãˆ"], key=f"q{i}")
        responses.append(answer)

    submitted = st.form_submit_button("è¨ºæ–­ã™ã‚‹")

if submitted:
    for i, answer in enumerate(responses):
        if answer == "ã¯ã„":
            for job, point in score_map[i].items():
                scores[job] += point

    recommended = max(scores, key=scores.get)

    st.success(f"ğŸ‰ ã‚ãªãŸã«å‘ã„ã¦ã„ã‚‹è·æ¥­ã¯â€¦ **{recommended}** ã§ã™ï¼")
    st.write("### ã‚¹ã‚³ã‚¢å†…è¨³")
    st.bar_chart(scores)
